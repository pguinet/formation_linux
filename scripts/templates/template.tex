% Template LaTeX personnalisé pour Formation Linux
% Désactive la numérotation des sections de niveau 1

\documentclass[$if(fontsize)$$fontsize$,$endif$$if(lang)$$babel-lang$,$endif$$if(papersize)$$papersize$paper,$endif$$for(classoption)$$classoption$$sep$,$endfor$]{$documentclass$}

% === PACKAGES ===
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{lmodern}
% Pas de babel pour éviter les problèmes de langue
\usepackage{geometry}
\usepackage{graphicx}
\usepackage{hyperref}
\usepackage{fancyhdr}
\usepackage{titlesec}
\usepackage{tocloft}
\usepackage{xcolor}
\usepackage{longtable}
\usepackage{booktabs}
\usepackage{array}
\usepackage{calc}
\usepackage{etoolbox}
\usepackage{footnote}
\usepackage{listings}
\usepackage{fancyvrb}

% === CONFIGURATION GÉOMÉTRIE ===
$if(geometry)$
\geometry{$for(geometry)$$geometry$$sep$,$endfor$}
$else$
\geometry{margin=2.5cm}
$endif$

% === CONFIGURATION COULEURS ===
\definecolor{darkblue}{RGB}{44, 82, 130}
\definecolor{lightblue}{RGB}{70, 130, 180}

% === CONFIGURATION HYPERLIENS ===
\hypersetup{
    colorlinks=true,
    linkcolor=darkblue,
    urlcolor=darkblue,
    citecolor=darkblue,
    bookmarksnumbered=true,
    bookmarksopen=true
}

% === REDÉFINITION DE LA NUMÉROTATION ===
% Désactiver la numérotation pour \section (niveau 1)
\setcounter{secnumdepth}{5}  % Autoriser la numérotation jusqu'au niveau 5
\titleformat{\section}
  {\Large\bfseries\color{darkblue}}  % Format du titre
  {}                                 % Pas de numéro
  {0pt}                             % Pas d'espacement
  {}                                % Pas de préfixe

% Configurer la numérotation pour les niveaux 2-5 (subsection, subsubsection, etc.)
\titleformat{\subsection}
  {\large\bfseries\color{lightblue}}
  {\thesubsection}
  {1em}
  {}

\titleformat{\subsubsection}
  {\normalsize\bfseries}
  {\thesubsubsection}
  {1em}
  {}

% === CONFIGURATION TABLE DES MATIÈRES ===
% Enlever la numérotation des sections dans la TOC
\renewcommand{\cftsecpresnum}{}
\renewcommand{\cftsecaftersnum}{}
\setlength{\cftsecnumwidth}{0pt}

% Garder la numérotation pour les subsections dans la TOC
\renewcommand{\cftsubsecpresnum}{}
\renewcommand{\cftsubsecaftersnum}{ }
\setlength{\cftsubsecnumwidth}{2em}

% === EN-TÊTES ET PIEDS DE PAGE ===
\pagestyle{fancy}
\fancyhf{}
\fancyhead[L]{$title-short$}
\fancyhead[R]{\thepage}
\fancyfoot[C]{Formation Linux - Prima Solutions}
\renewcommand{\headrulewidth}{0.4pt}
\renewcommand{\footrulewidth}{0.4pt}

% === DÉFINITIONS PANDOC ===
% Définition de tightlist pour les listes Pandoc
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}

% Définition de l'environnement Shaded pour la coloration syntaxique
\usepackage{framed}
\definecolor{shadecolor}{RGB}{248,248,248}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newenvironment{Highlighting}{\begin{Shaded}}{\end{Shaded}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{#1}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\ImportTok}[1]{#1}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.81,0.36,0.00}{\textbf{#1}}}
\newcommand{\BuiltInTok}[1]{#1}
\newcommand{\ExtensionTok}[1]{#1}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.77,0.63,0.00}{#1}}
\newcommand{\RegionMarkerTok}[1]{#1}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.94,0.16,0.16}{#1}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.64,0.00,0.00}{\textbf{#1}}}
\newcommand{\NormalTok}[1]{#1}

% === MÉTADONNÉES DU DOCUMENT ===
$if(title)$
\title{$title$}
$endif$
$if(author)$
\author{$author$}
$endif$
$if(date)$
\date{$date$}
$endif$

% === DÉBUT DU DOCUMENT ===
\begin{document}

$if(title)$
\maketitle
\thispagestyle{empty}
\newpage
$endif$

$if(toc)$
{
\hypersetup{linkcolor=black}
\tableofcontents
\newpage
}
$endif$

% === CONTENU PRINCIPAL ===
$body$

\end{document}